# 01 软件设计到底是什么？

软件设计到底是什么？

有很多不同的说法。

## 核心的模型

软件开发的目的是什么？

## 约束的规范

规范，就是限定来什么样的需求，应该以怎样的方式去完成。

一种常见的问题就是缺乏显式的、统一的规范。

关于规范还有一种常见的问题是，规范不符合软件设计原则。

## 模型与规范

有了模型，有了规范，那模型与规范是什么关系呢？模型和规范，二者相辅相成。

## 总结时刻

软件设计到底是什么，它应该包括“模型”和“规范”两部分：

+ 模型，是一个软件的骨架，是一个软件之所以是这个软件的核心。模型的粒度可大可小。我们所说的“高内聚，低耦合” 指的就是对模型的要求，一个好的模型可以有效地隐藏细节，让开发者易于理解。模型是分层的，可以不断叠加，基于一个基础的模型去构建上一层的模型，计算机世界就是这样一点点构建除出来的。

+ 规范，就是限定了什么样的需求，应该以怎么样的方式去完成。它对于维系软件长期演化至关重要。关于规范，常见的两种问题是：一个项目缺乏显式的、统一的规范；规范不符合软件设计原则。

+ 模型与规范，二者相辅相成，一个项目最初建立起的模型，往往是要符合一定规范的，而规范的制定也有赖于模型。

如果只能记住一件事情，那就记住：**软件设计，应该包括模型和规范。**

```
软件设计到底是什么

# 模型
    -- 定义
        一个软件的骨架 一个软件之所以是这个软件的核心
    -- 粒度
        模型的粒度可大可小
    -- 要求
        高内聚、低耦合
    -- 构建
        模型是分层的

# 规范
    -- 定义
        限定了什么样的需求应该以怎么样的方式去完成
    -- 常见问题
        一个项目缺乏显式的、统一的规范
        规范不符合软件设计原则

# 二者关系
    -- 相辅相成
        模型往往是要符合一定规范的
        规范的制定也有赖于模型

```

有了对软件设计的初步了解，就开始做设计，但该从那里入手呢？

```
```

# 02 分离关注点：软件设计至关重要的第一步

软件开发就是在解决问题。那问题一般是如何解决呢？最常见的解决问题的思路就是**分而治之**，就是先把问题拆开。

拆分的**粒度太大会造成什么影响呢？这会导致我们把不同的东西混淆在一起**，为日后埋下很多隐患。

## 一个失败的分解案例

## 分离关注点

## 总结时刻

软件设计中，至关重要的第一步是： 分解。

大多数系统设计做的不够好，问题常常出现在分解这步没有做好。常见的分解问题是，分解的粒度太大，把各种维度混淆在一起。在设计中，将一个模块的不同维度分开，又一个专门的说法，叫分离关注点。

分离关注点很重要，一方面，不同的关注点混在一起会带来许多问题；另一方面，分离关注点有助于我们发现不同模块的共性，更好地进行设计。分离关注点，是我们在做设计的时候，需要时刻蹦起的一根弦。

有两种常见的关注点混淆的情况，一种是技术和业务的混淆，另一种是不同数据变动方向的混淆，在日常开发中，应该引以为戒。

如果只能记住一件事，那就记住： **分离关注点，发现的关注点越多越好，粒度越小越好。**

```
软件设计的第一步

# 分解
    常见问题
        分解粒度太大，会把不同的东西混淆在一起


# 分离关注点  （分解的具体方法）
    定义
        将一个模块的不同维度分开
    重要原因
        不同的关注点混在一起会带来许多问题
        有助于我们发现不同模块的共性
    常见问题
        技术和业务的混淆
        不同数据变动方向的混淆

```

通过分离关注点，已经迈出了软件设计的第一步，接着就该考虑如何组合了。在组合过程中，会有很多因素影响到组合的方式。
下面应该分析一个非常重要却不受重视的因素：可测试性。

```
```

# 03 可测试性： 一个影响软件设计的重要因素

软件设计的第一步： 分离关注点。作为至关重要的第一步,分离关注点常常别人忽略，严重影响了设计的有效性。另外一个经常被很多人忽略的因素是： 可测试性。

## 软件设计要考虑“可测试性”

如果在设计时，考虑可测试性呢？其实就是在设计时想一下，**这个函数/模块/系统要怎么测**。

所以，我们在设计一个 函数 / 模块 / 系统时，必须将可测试性纳入考量，以便能够完成不同层次的测试，减少对 集成环境的依赖。

## 当你有了可测试性的视角

## 总结

影响软件设计的重要因素： 可测试性。

在软件设计中，可测试性常常被人忽视，结果造成了很多模块的不可测，由此引发了很多技术债。所以，在设计中就要充分考虑可测试性。

在设计中考虑可测试性，就是在设计时问一下，**这个 函数 / 模块 / 系统 怎么测**。在软件开发中，只有把一个一个的小模块做了足够的测试，我们才会有稳定的构造块，才可以在集成测试的时候，只关注最终的结果。

而有了可测试性的视角，我们可以把它当作一个衡量标准去看待其他的设计或实践，也可以用它帮助我们理解软件的发展趋势。

如果只能记住一件事，那就记住： **做软件设计，请考虑可测试性**。

```
软件设计的重要因素

# 可测试性
    定义
        属于非功能性需求中的演化质量需求
    常见问题
        常被人忽视，导致模块不可测
    如何考虑
        在设计时问一下，这个 函数/模块/系统 怎么测

# 有可测试性视角（充分考虑之后）
    当作衡量标准去看待其他的设计或实现
    帮助我们理解的发展趋势


```

通过软件设计的定义，分离关注点，考虑可测试性，就对软件设计有了一个基本的了解。可以在实际工作环境中，去了解一个软件的设计。

